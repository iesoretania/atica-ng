{% trans_default_domain "security" %}
{% extends 'base.html.twig' %}
{% import 'layout/macros_layout.html.twig' as ml %}

{% block body %}
    <section class="login-form">
        <h2 class="center-align">
            <span class="app-name">{{ app_name }} </span>
            <span class="app-version">{{ app_version }}</span>
        </h2>
        <div class="panel panel-default">
            <div class="panel-heading">{% block login_title %}{% endblock %}</div>
            <div class="panel-body">
                {{ ml.flash_message('success', 'success') }}
                {{ ml.flash_message('error', 'danger') }}
                {% if login_error is defined and login_error %}
                    <div class="alert alert-danger alert-dismissable">{{ login_error.messageKey|trans(login_error.messageData) }}</div>
                {% endif %}
                {% if error is defined and error %}
                    <div class="alert alert-danger alert-dismissable">{{ error }}</div>
                {% endif %}
                {% block login_content %}{% endblock %}
            </div>
        </div>
    </section>

    <hr/>
    <p class="text-muted center-align">{{ 'form.login.footer'|trans({'{{ link }}': '<a href="' ~ app_repository ~ '">' ~ ('form.login.footer.link.caption'|trans) ~ '</a>'}) | raw }}</p>
{% endblock %}
